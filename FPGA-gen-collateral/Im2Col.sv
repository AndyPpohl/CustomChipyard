// Generated by CIRCT firtool-1.75.0

// Include register initializers in init blocks unless synthesis is set
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Standard header to adapt well known macros for register randomization.

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_
module Im2Col(	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
  input        clock,	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
  input        reset,	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
  input [11:0] io_req_bits_addr_data,	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:48:14]
  input [7:0]  io_req_bits_ocol,	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:48:14]
  input [3:0]  io_req_bits_krow,	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:48:14]
  input [8:0]  io_req_bits_icol,	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:48:14]
  input [2:0]  io_req_bits_stride,	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:48:14]
  input [10:0] io_req_bits_row_turn,	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:48:14]
  input [7:0]  io_req_bits_kdim2,	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:48:14]
  input [3:0]  io_req_bits_row_left,	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:48:14]
  input        io_req_bits_start_inputting,	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:48:14]
  input        io_sram_reads_0_resp_valid,	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:48:14]
  input        io_sram_reads_1_resp_valid	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:48:14]
);

  wire            _sram_read_signals_q_io_deq_valid;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:136:35]
  wire            _sram_read_signals_q_io_deq_bits_im2col_fin_pulse;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:136:35]
  reg             req_start_inputting;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:56:16]
  reg  [5:0]      column_counter;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:76:31]
  reg  [12:0]     window_row_counter;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:77:35]
  reg  [12:0]     window_start_counter;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:78:37]
  reg             valid_reg;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:80:26]
  reg             im2col_fin_reg;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:81:31]
  reg             im2col_fin;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:82:27]
  reg             sram_read_req;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:85:30]
  reg  [11:0]     copy_addr_data;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:89:26]
  reg  [2:0]      im2col_state;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:105:29]
  reg  [7:0]      im2col_turn;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:107:28]
  reg  [7:0]      modulo_im2col_turn;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:109:35]
  reg             im2col_fin_reset;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:110:33]
  reg  [10:0]     im2col_row_turn_counter;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:112:40]
  reg  [10:0]     im2col_row_turn_counter_d;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:114:42]
  reg  [12:0]     modulo_block_done;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:120:34]
  reg  [12:0]     modulo_block_save;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:121:34]
  wire [11:0]     _im2col_spad_row_qual2_result_data_T = copy_addr_data + window_start_counter[11:0] + window_row_counter[11:0];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:77:35, :78:37, :89:26, :146:42, generators/gemmini/src/main/scala/gemmini/LocalAddr.scala:51:25]
  wire            im2col_spad_bank = _im2col_spad_row_qual2_result_data_T[11];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:146:42, generators/gemmini/src/main/scala/gemmini/LocalAddr.scala:33:79, :51:25]
  wire            _sram_resp_valid_T = im2col_state == 3'h3;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:105:29, :170:29]
  wire            _sram_resp_valid_T_1 = im2col_state == 3'h2;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:105:29, :170:64]
  reg             row_turn_counter_noreset;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:175:41]
  reg             im2col_fin_pulse;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:176:33]
  reg  [7:0]      turn_count_save;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:177:32]
  reg  [12:0]     window_start_counter_prev;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:179:42]
  wire            sram_resp_valid = (_sram_resp_valid_T | _sram_resp_valid_T_1) & (im2col_spad_bank ? io_sram_reads_1_resp_valid : io_sram_reads_0_resp_valid) & ~im2col_fin_reset;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:110:33, :153:49, :170:{29,64}, :304:{55,95,141,144}, generators/gemmini/src/main/scala/gemmini/LocalAddr.scala:33:79]
  reg             req_valid;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:322:26]
  reg  [4:0]      valid_count;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:324:28]
  reg             sram_req_deq_valid_d;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:381:37]
  wire            _GEN = turn_count_save - im2col_turn + 8'h1 == io_req_bits_kdim2;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:107:28, :177:32, :253:{30,44,50}]
  wire            _GEN_0 = im2col_turn == 8'h1;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:107:28, :256:26]
  wire            _GEN_1 = _sram_resp_valid_T & ~sram_resp_valid;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:120:34, :170:29, :184:23, :251:{32,49}, :256:35, :304:{95,141}]
  wire            _GEN_2 = im2col_state == 3'h4;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:105:29, :184:23]
  wire            _GEN_3 = (|im2col_row_turn_counter_d) & ~im2col_fin;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:82:27, :114:42, :283:{38,46,49}]
  wire            _GEN_4 = _GEN_0 & im2col_fin_reg;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:81:31, :256:26, :294:28]
  wire [12:0]     _GEN_5 = {10'h0, io_req_bits_stride};	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:295:55]
  wire [12:0]     _GEN_6 = {5'h0, io_req_bits_ocol};	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:297:66]
  wire [12:0]     _GEN_7 = {9'h0, io_req_bits_krow};	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:298:57]
  wire [11:0]     _GEN_8 = {3'h0, io_req_bits_icol};	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:298:81]
  wire            _GEN_9 = column_counter == 6'h1;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:76:31, :306:23]
  wire            _GEN_10 = ~req_valid & ~req_start_inputting & ~sram_resp_valid | im2col_fin_reset;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:56:16, :110:33, :251:32, :304:{95,141}, :322:26, :325:8, :340:{20,23,42,63}]
  wire            _GEN_11 = (~sram_resp_valid | ~req_valid) & sram_read_req;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:85:30, :251:32, :304:{95,141}, :322:26, :325:8, :343:{32,47}]
  wire            _GEN_12 = sram_resp_valid & sram_read_req & req_valid;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:85:30, :304:{95,141}, :322:26, :346:{30,47}]
  wire [5:0]      _column_counter_T_17 = column_counter + 6'h1;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:76:31, generators/gemmini/src/main/scala/gemmini/Util.scala:13:71]
  wire            _GEN_13 = ~(|im2col_row_turn_counter) & column_counter == {2'h0, io_req_bits_row_left - 4'h1} | _GEN_9;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:76:31, :112:40, :120:45, :260:40, :306:23, :317:{63,71,90,103}, :349:42]
  wire            _GEN_14 = _GEN_12 & ~im2col_fin;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:82:27, :283:49, :294:47, :346:{30,47,76}, :348:22, :349:83]
  wire [7:0]      _GEN_15 = {4'h0, io_req_bits_krow};	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :371:66]
  wire            _GEN_16 = io_req_bits_kdim2 - im2col_turn + 8'h1 - modulo_im2col_turn == _GEN_15;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:107:28, :109:35, :371:{24,38,45,66}]
  wire [7:0][2:0] _GEN_17 = {{im2col_state}, {im2col_state}, {im2col_state}, {_GEN_3 ? 3'h1 : (|im2col_row_turn_counter_d) ? im2col_state : 3'h0}, {sram_resp_valid ? im2col_state : _GEN_0 ? 3'h4 : 3'h2}, {sram_resp_valid & ~im2col_fin_reset & req_start_inputting ? 3'h3 : im2col_state}, {3'h0}, {im2col_state}};	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:56:16, :105:29, :110:33, :114:42, :115:21, :170:{29,64}, :184:23, :189:22, :233:23, :241:{28,31,49,72}, :242:22, :251:49, :256:{26,35}, :257:24, :264:40, :283:{38,46,62}, :284:22, :285:52, :286:22, :304:{95,141}]
  wire            _GEN_18 = _sram_resp_valid_T & ~sram_resp_valid & _GEN_0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:121:34, :170:29, :184:23, :251:{32,49}, :256:{26,35}, :259:29, :304:{95,141}]
  wire            _busy_T_3 = im2col_state == 3'h1;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:105:29, :115:21]
  wire [10:0]     _block_done_T = io_req_bits_row_turn - im2col_row_turn_counter;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:112:40, :119:29]
  wire [12:0]     _GEN_19 = {1'h0, _block_done_T, 1'h0};	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:119:29, :120:45]
  wire            _GEN_20 = im2col_state == 3'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:105:29, :184:23]
  wire            _GEN_21 = im2col_turn == 8'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:107:28, :204:24]
  wire            _GEN_22 = _GEN_20 | ~(_busy_T_3 & _GEN_21);	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:56:16, :115:21, :129:31, :131:9, :184:23, :189:22, :204:{24,32}, :205:13]
  wire            _GEN_23 = _GEN_20 | _busy_T_3 | _sram_resp_valid_T_1 | _sram_resp_valid_T | ~_GEN_2;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:77:35, :115:21, :170:{29,64}, :184:23, :189:22]
  wire            _GEN_24 = {1'h0, _block_done_T + 11'h1, 1'h0} - modulo_block_done == _GEN_6;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:119:29, :120:34, :297:{16,46,66}]
  wire            _GEN_25 = {7'h0, _column_counter_T_17} + _GEN_19 - modulo_block_done == _GEN_6;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:120:{34,45}, :297:66, :351:{40,69,89}, generators/gemmini/src/main/scala/gemmini/Util.scala:13:71]
  always @(posedge clock) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
    if (_GEN_22) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:184:23, :189:22]
    end
    else	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:184:23, :189:22]
      req_start_inputting <= io_req_bits_start_inputting;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:56:16]
    im2col_fin_pulse <= _sram_read_signals_q_io_deq_bits_im2col_fin_pulse;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:136:35, :176:33]
    sram_req_deq_valid_d <= _sram_read_signals_q_io_deq_valid;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:136:35, :381:37]
    if (reset) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
      column_counter <= 6'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:76:31]
      window_row_counter <= 13'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:77:35]
      window_start_counter <= 13'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:78:37]
      valid_reg <= 1'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:80:26]
      im2col_fin_reg <= 1'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:81:31]
      im2col_fin <= 1'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:82:27]
      sram_read_req <= 1'h1;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:85:30]
      copy_addr_data <= io_req_bits_addr_data;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:89:26]
      im2col_state <= 3'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:105:29]
      im2col_turn <= io_req_bits_kdim2;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:107:28]
      modulo_im2col_turn <= io_req_bits_kdim2;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:109:35]
      im2col_fin_reset <= 1'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:110:33]
      im2col_row_turn_counter <= 11'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:112:40]
      im2col_row_turn_counter_d <= im2col_row_turn_counter;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:112:40, :114:42]
      modulo_block_done <= _GEN_19;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:120:{34,45}]
      modulo_block_save <= _GEN_19;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:120:45, :121:34]
      row_turn_counter_noreset <= 1'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:175:41]
      turn_count_save <= im2col_turn;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:107:28, :177:32]
      window_start_counter_prev <= 13'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:179:42]
      req_valid <= 1'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:322:26]
      valid_count <= 5'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:324:28]
    end
    else begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
      if (_GEN_10)	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:340:63]
        column_counter <= 6'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:76:31]
      else if (_GEN_11)	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:343:47]
        window_start_counter <= window_start_counter_prev;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:78:37, :179:42]
      else begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:343:47]
        column_counter <= _GEN_12 ? ((|column_counter) ? 6'h1 - (6'h1 - column_counter) - 6'h1 : _column_counter_T_17) : 6'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:76:31, :346:{30,47,76}, :347:20, :359:28, generators/gemmini/src/main/scala/gemmini/Util.scala:13:{10,13,48,57,62,71}]
        if (_GEN_14) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:294:47, :346:76, :348:22, :349:83]
          if (~_GEN_13)	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:349:42]
            window_start_counter <= _GEN_25 ? window_start_counter + _GEN_7 + {1'h0, {9'h0, io_req_bits_stride - 3'h1} * _GEN_8} : window_start_counter + _GEN_5;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:78:37, :295:55, :298:{57,81}, :351:{89,98}, :352:{30,54,61,71,78}, :354:{40,64}]
        end
        else	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:294:47, :346:76, :348:22, :349:83]
          window_start_counter <= 13'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:78:37]
      end
      if (_GEN_2 | ~im2col_fin_reg) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:81:31, :85:30, :184:23, :247:27, :248:23, :367:{21,38}, :368:26]
        if (_GEN_23) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:77:35, :184:23, :189:22]
        end
        else	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:77:35, :184:23, :189:22]
          window_row_counter <= 13'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:77:35]
      end
      else	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:184:23, :367:{21,38}, :368:26]
        window_row_counter <= _GEN ? 13'h0 : _GEN_16 ? window_row_counter + {4'h0, io_req_bits_icol} - _GEN_7 + 13'h1 : window_row_counter + 13'h1;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :77:35, :253:50, :298:57, :369:65, :370:28, :371:{66,76}, :372:{28,50,57,64}, :375:{28,50}]
      valid_reg <= sram_req_deq_valid_d & ~im2col_fin_pulse;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:80:26, :176:33, :381:37, :385:30, :386:27, :387:17, :388:63, :395:15]
      im2col_fin_reg <= _GEN_9;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:81:31, :306:23]
      im2col_fin <= ~_GEN_10 & (_GEN_11 ? im2col_fin : _GEN_12 ? ~im2col_fin & _GEN_13 | im2col_fin : _GEN_13 | im2col_fin);	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:82:27, :283:49, :340:{63,83}, :342:16, :343:{47,64}, :346:{30,47,76}, :348:22, :349:{42,83}, :350:20, :359:28, :361:81, :362:18]
      sram_read_req <= ~(_GEN_20 | _busy_T_3) & (_sram_resp_valid_T_1 | (_sram_resp_valid_T ? ~sram_resp_valid & ~_GEN_0 | ~im2col_fin_reg & sram_read_req : sram_read_req));	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:81:31, :85:30, :115:21, :170:{29,64}, :184:23, :187:21, :233:23, :240:21, :247:27, :248:23, :251:49, :256:{26,35}, :264:40, :304:{95,141}]
      if (_GEN_20 | ~_busy_T_3) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:89:26, :115:21, :184:23]
      end
      else	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:89:26, :184:23]
        copy_addr_data <= io_req_bits_addr_data;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:89:26]
      im2col_state <= _GEN_17[im2col_state];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:105:29, :115:21, :170:{29,64}, :184:23, :189:22, :233:23, :241:72, :251:49, :283:62]
      if (~_GEN_20) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:184:23, :186:24]
        if (_busy_T_3) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:115:21]
          if (_GEN_21)	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:204:24]
            im2col_turn <= io_req_bits_kdim2;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:107:28]
          if (row_turn_counter_noreset) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:175:41]
          end
          else begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:175:41]
            im2col_row_turn_counter <= io_req_bits_row_turn;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:112:40]
            modulo_block_save <= 13'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:121:34]
          end
          turn_count_save <= io_req_bits_kdim2;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:177:32]
        end
        else begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:115:21]
          if (_sram_resp_valid_T_1 | ~_GEN_1) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:107:28, :120:34, :170:64, :184:23, :251:49, :256:35]
          end
          else	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:107:28, :184:23]
            im2col_turn <= _GEN_0 ? 8'h0 : im2col_turn == 8'h2 ? 8'h1 : im2col_turn - 8'h1;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:107:28, :256:{26,35}, :258:23, :264:{32,40}, :266:23, :273:{23,38}]
          if (_sram_resp_valid_T_1 | ~(_GEN_18 & (|im2col_row_turn_counter))) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:112:40, :121:34, :170:64, :184:23, :251:49, :256:35, :259:29, :260:{40,48}]
          end
          else	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:112:40, :184:23]
            im2col_row_turn_counter <= im2col_row_turn_counter - 11'h1;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:112:40, :262:64]
          if (_sram_resp_valid_T_1 | ~_GEN_18) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:121:34, :170:64, :184:23, :251:49, :256:35, :259:29]
          end
          else	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:121:34, :184:23]
            modulo_block_save <= modulo_block_done;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:120:34, :121:34]
          if (_sram_resp_valid_T_1 | ~(_sram_resp_valid_T & ~sram_resp_valid & _GEN)) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:170:{29,64}, :177:32, :184:23, :251:{32,49}, :253:{50,66}, :254:27, :304:{95,141}]
          end
          else	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:177:32, :184:23]
            turn_count_save <= im2col_turn - 8'h1;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:107:28, :177:32, :254:42]
        end
      end
      if (_GEN_2 | ~im2col_fin_reg | _GEN | ~_GEN_16) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:81:31, :85:30, :184:23, :247:27, :248:23, :253:50, :367:{21,38}, :368:26, :369:65, :371:{66,76}]
        if (_GEN_22) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:184:23, :189:22]
        end
        else	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:184:23, :189:22]
          modulo_im2col_turn <= 8'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:109:35]
      end
      else	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:184:23, :367:{21,38}, :368:26, :369:65, :371:76]
        modulo_im2col_turn <= modulo_im2col_turn + _GEN_15;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:109:35, :371:66, :373:50]
      im2col_fin_reset <= ~_GEN_20 & (_busy_T_3 ? ~io_req_bits_start_inputting : ~_sram_resp_valid_T_1 & (_sram_resp_valid_T ? ~sram_resp_valid | im2col_fin_reset : _GEN_2 | im2col_fin_reset));	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:110:33, :115:21, :170:{29,64}, :184:23, :186:24, :213:24, :225:40, :227:26, :239:24, :251:{32,49}, :252:26, :278:24, :304:{95,141}]
      if (_busy_T_3)	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:115:21]
        im2col_row_turn_counter_d <= im2col_row_turn_counter;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:112:40, :114:42]
      if (_GEN_10 | _GEN_11 | ~_GEN_14 | _GEN_13 | ~_GEN_25) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:294:47, :340:{63,83}, :343:{47,64}, :346:76, :348:22, :349:{42,83}, :351:{89,98}]
        if (_GEN_4 & _GEN_24)	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:184:23, :294:{28,47}, :297:{66,75}, :299:25]
          modulo_block_done <= modulo_block_done + _GEN_6;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:120:34, :297:66, :299:46]
        else if (~_GEN_20) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:184:23, :186:24]
          if (_busy_T_3) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:115:21]
            if (row_turn_counter_noreset) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:175:41]
            end
            else	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:175:41]
              modulo_block_done <= 13'h0;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:120:34]
          end
          else if (_sram_resp_valid_T_1 | ~_GEN_1 | _GEN_0) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:120:34, :170:64, :184:23, :251:49, :256:{26,35}]
          end
          else	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:120:34, :184:23, :251:49, :256:35]
            modulo_block_done <= modulo_block_save;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:120:34, :121:34]
        end
      end
      else	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:294:47, :340:83, :343:64, :346:76, :348:22, :349:83, :351:98]
        modulo_block_done <= modulo_block_done + _GEN_6;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:120:34, :297:66, :353:48]
      if (_GEN_23) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:77:35, :175:41, :184:23, :189:22]
      end
      else	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:175:41, :184:23]
        row_turn_counter_noreset <= _GEN_3 | (|im2col_row_turn_counter_d);	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:114:42, :175:41, :279:32, :283:{38,46,62}, :285:52]
      if (_GEN_4)	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:294:28]
        window_start_counter_prev <= _GEN_24 ? window_start_counter + _GEN_7 + {1'h0, {9'h0, io_req_bits_stride - 3'h1} * _GEN_8} : window_start_counter + _GEN_5;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:78:37, :179:42, :295:{31,55}, :297:{66,75}, :298:{33,57,64,74,81}]
      if (req_valid & valid_reg) begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:80:26, :322:26, :324:28, :325:19, :330:20]
        req_valid <= valid_count != 5'h1;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:322:26, :324:28, :332:{24,47}, :334:27, :335:29]
        valid_count <= (|valid_count) ? 5'h1 - (5'h1 - valid_count) - 5'h1 : valid_count + 5'h1;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:324:28, generators/gemmini/src/main/scala/gemmini/Util.scala:27:15, :30:{10,47,54,59}, src/main/scala/chisel3/util/Mux.scala:126:16]
      end
    end
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
    `ifdef FIRRTL_BEFORE_INITIAL	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
      `FIRRTL_BEFORE_INITIAL	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
    `endif // FIRRTL_BEFORE_INITIAL
    logic [31:0] _RANDOM[0:9];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
    initial begin	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
      `ifdef INIT_RANDOM_PROLOG_	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
        `INIT_RANDOM_PROLOG_	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
        for (logic [3:0] i = 4'h0; i < 4'hA; i += 4'h1) begin
          _RANDOM[i] = `RANDOM;	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
        end	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
        req_start_inputting = _RANDOM[4'h3][4];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :56:16]
        column_counter = _RANDOM[4'h3][19:14];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :56:16, :76:31]
        window_row_counter = {_RANDOM[4'h3][31:20], _RANDOM[4'h4][0]};	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :56:16, :77:35]
        window_start_counter = _RANDOM[4'h4][13:1];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :77:35, :78:37]
        valid_reg = _RANDOM[4'h4][30];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :77:35, :80:26]
        im2col_fin_reg = _RANDOM[4'h4][31];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :77:35, :81:31]
        im2col_fin = _RANDOM[4'h5][0];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :82:27]
        sram_read_req = _RANDOM[4'h5][1];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :82:27, :85:30]
        copy_addr_data = {_RANDOM[4'h5][31:24], _RANDOM[4'h6][3:0]};	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :82:27, :89:26]
        im2col_state = _RANDOM[4'h6][6:4];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :89:26, :105:29]
        im2col_turn = _RANDOM[4'h6][14:7];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :89:26, :107:28]
        modulo_im2col_turn = _RANDOM[4'h6][22:15];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :89:26, :109:35]
        im2col_fin_reset = _RANDOM[4'h6][23];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :89:26, :110:33]
        im2col_row_turn_counter = {_RANDOM[4'h6][31:24], _RANDOM[4'h7][2:0]};	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :89:26, :112:40]
        im2col_row_turn_counter_d = _RANDOM[4'h7][13:3];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :112:40, :114:42]
        modulo_block_done = _RANDOM[4'h7][26:14];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :112:40, :120:34]
        modulo_block_save = {_RANDOM[4'h7][31:27], _RANDOM[4'h8][7:0]};	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :112:40, :121:34]
        row_turn_counter_noreset = _RANDOM[4'h8][9];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :121:34, :175:41]
        im2col_fin_pulse = _RANDOM[4'h8][10];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :121:34, :176:33]
        turn_count_save = _RANDOM[4'h8][18:11];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :121:34, :177:32]
        window_start_counter_prev = _RANDOM[4'h8][31:19];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :121:34, :179:42]
        req_valid = _RANDOM[4'h9][24];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :322:26]
        valid_count = _RANDOM[4'h9][29:25];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :322:26, :324:28]
        sram_req_deq_valid_d = _RANDOM[4'h9][30];	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7, :322:26, :381:37]
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
      `FIRRTL_AFTER_INITIAL	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:43:7]
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  Queue5_im2colRowSignals sram_read_signals_q (	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:136:35]
    .clock                        (clock),
    .reset                        (reset),
    .io_deq_valid                 (_sram_read_signals_q_io_deq_valid),
    .io_deq_bits_im2col_fin_pulse (_sram_read_signals_q_io_deq_bits_im2col_fin_pulse)
  );	// @[generators/gemmini/src/main/scala/gemmini/Im2Col.scala:136:35]
endmodule


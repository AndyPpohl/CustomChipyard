// Generated by CIRCT firtool-1.75.0

// Include register initializers in init blocks unless synthesis is set
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Standard header to adapt well known macros for register randomization.

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_
module LoopConvExecute(	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
  input         clock,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
  input         reset,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
  output        io_req_ready,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input         io_req_valid,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_outer_bounds_stride,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_outer_bounds_kernel_dilation,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_inner_bounds_batches,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_inner_bounds_krows,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_inner_bounds_kcols,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_inner_bounds_kchs,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_inner_bounds_lpad,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_inner_bounds_upad,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_inner_bounds_orows,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_inner_bounds_ocols,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_derived_params_ochs,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_derived_params_irows,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_derived_params_icols,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_derived_params_out_channels_per_bank,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_derived_params_in_channels_per_bank,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_derived_params_input_spad_stride,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [11:0] io_req_bits_a_addr_start,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [12:0] io_req_bits_b_addr_end,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [8:0]  io_req_bits_c_addr_start,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input         io_req_bits_wrot180,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input         io_req_bits_downsample,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input  [15:0] io_req_bits_max_pixels_per_row,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input         io_req_bits_input_dilated,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input         io_req_bits_trans_weight_0132,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input         io_req_bits_trans_input_3120,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input         io_req_bits_loop_id,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input         io_cmd_ready,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  output        io_cmd_valid,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  output [6:0]  io_cmd_bits_inst_funct,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  output [63:0] io_cmd_bits_rs1,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  output [63:0] io_cmd_bits_rs2,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input         io_lda_completed,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input         io_ldb_completed,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input         io_ldd_completed,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  output        io_idle,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  input         io_rob_overloaded,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
  output        io_loop_id	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:600:14]
);

  wire        _command_p_io_in_ready;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25]
  wire        _command_p_io_out_valid;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25]
  wire [6:0]  _command_p_io_out_bits_cmd_inst_funct;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25]
  wire [63:0] _command_p_io_out_bits_cmd_rs1;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25]
  wire [63:0] _command_p_io_out_bits_cmd_rs2;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25]
  wire [51:0] _command_p_io_out_bits_a_addr;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25]
  wire [67:0] _command_p_io_out_bits_b_addr;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25]
  wire [67:0] _command_p_io_out_bits_c_addr;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25]
  wire [16:0] _command_p_io_out_bits_I;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25]
  wire [15:0] _command_p_io_out_bits_J;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25]
  wire [31:0] _command_p_io_out_bits_K;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25]
  wire        _command_p_io_out_bits_new_weights;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25]
  wire        _command_p_io_busy;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25]
  reg  [1:0]  state;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:618:22]
  reg  [15:0] req_outer_bounds_stride;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_outer_bounds_kernel_dilation;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_inner_bounds_batches;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_inner_bounds_krows;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_inner_bounds_kcols;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_inner_bounds_kchs;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_inner_bounds_lpad;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_inner_bounds_upad;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_inner_bounds_orows;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_inner_bounds_ocols;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_derived_params_ochs;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_derived_params_irows;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_derived_params_icols;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_derived_params_out_channels_per_bank;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_derived_params_in_channels_per_bank;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_derived_params_input_spad_stride;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [11:0] req_a_addr_start;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [12:0] req_b_addr_end;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [8:0]  req_c_addr_start;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg         req_wrot180;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg         req_downsample;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg  [15:0] req_max_pixels_per_row;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg         req_input_dilated;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg         req_trans_weight_0132;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg         req_trans_input_3120;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  reg         req_loop_id;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
  wire [31:0] _GEN = {16'h0, req_inner_bounds_kcols};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :629:64]
  wire [47:0] _GEN_0 = {32'h0, req_inner_bounds_krows};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :629:72]
  wire [63:0] _GEN_1 = {48'h0, req_derived_params_ochs};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :629:80]
  wire [63:0] _GEN_2 = {48'h0, req_inner_bounds_kchs};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :630:43]
  reg  [15:0] och;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:637:16]
  reg  [15:0] krow;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:638:17]
  reg  [15:0] kcol;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:639:17]
  reg  [15:0] kch;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:640:16]
  reg  [15:0] b;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:641:14]
  reg  [15:0] orow;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:642:17]
  reg  [15:0] ocol;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:643:17]
  wire [31:0] _GEN_3 = {16'h0, req_outer_bounds_kernel_dilation};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :646:69]
  wire [31:0] _irow_T_1 = {16'h0, krow} * _GEN_3;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:638:17, :646:69]
  wire [31:0] _icol_T_1 = {16'h0, kcol} * _GEN_3;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:639:17, :646:69, :647:12]
  wire        skip_iteration = state[1] & req_input_dilated & (_irow_T_1[0] + orow[0] - req_inner_bounds_upad[0] & req_input_dilated | _icol_T_1[0] + ocol[0] - req_inner_bounds_lpad[0] & req_input_dilated);	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:618:22, :620:16, :642:17, :643:17, :646:{30,37,58,69,87,95,107,135}, :647:{12,30,38,50}]
  wire [15:0] _kcol_rot_T = req_inner_bounds_kcols - kcol;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :639:17, :649:26]
  wire [31:0] _GEN_4 = {16'h0, orow};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:642:17, :651:29]
  wire [31:0] _GEN_5 = {16'h0, req_outer_bounds_stride};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :651:29]
  wire [33:0] _GEN_6 = {33'h0, req_input_dilated};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :626:37]
  wire [15:0] _I_T_3 = req_inner_bounds_batches - b;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :641:14, :655:17]
  wire [15:0] _I_T_11 = req_inner_bounds_ocols - ocol;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :643:17, :656:25]
  wire [2:0]  _ocol_it_T_1 = 3'h2 << req_input_dilated;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :656:48]
  wire [15:0] _GEN_7 = {13'h0, _ocol_it_T_1};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:656:{32,48}]
  wire [16:0] _GEN_8 = {16'h0, req_input_dilated};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :626:37]
  wire [15:0] _J_T_3 = req_derived_params_ochs - och;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :637:16, :657:20]
  wire [15:0] _K_T_3 = req_inner_bounds_kchs - kch;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :640:16, :658:29]
  wire [31:0] _GEN_9 = {16'h0, req_derived_params_input_spad_stride};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :662:40]
  wire [32:0] _GEN_10 = {21'h0, req_a_addr_start};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :662:18]
  wire [15:0] _GEN_11 = {15'h0, req_downsample};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :662:76]
  wire [31:0] _GEN_12 = {16'h0, req_derived_params_irows >> _GEN_11};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :662:{67,76}]
  wire [15:0] _a_addr_T_23 = req_derived_params_icols >> _GEN_11;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :662:{76,104}]
  wire [47:0] _GEN_13 = {32'h0, _a_addr_T_23};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:662:{95,104}]
  wire [33:0] _GEN_14 = {33'h0, req_downsample};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :626:37, :662:132]
  wire [49:0] _GEN_15 = {16'h0, {1'h0, {1'h0, _GEN_4 * _GEN_5} + {1'h0, _irow_T_1}} + _GEN_6 >> _GEN_6 >> _GEN_14};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:626:{37,59}, :646:{69,87}, :651:{29,38}, :662:{132,151}]
  wire [49:0] _GEN_16 = {34'h0, _a_addr_T_23};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:662:{104,151}]
  wire [51:0] _GEN_17 = {18'h0, {1'h0, {1'h0, {16'h0, ocol} * _GEN_5} + {1'h0, _icol_T_1}} + _GEN_6 >> _GEN_6 >> _GEN_14};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:626:{37,59}, :643:17, :646:95, :647:{12,30}, :651:29, :652:{29,38}, :662:{132,179,188}]
  wire [31:0] _GEN_18 = {16'h0, kch / 16'h2};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:640:16, :655:21, :663:{26,58}]
  wire [31:0] _GEN_19 = {16'h0, b};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:641:14, :663:83]
  wire [31:0] _GEN_20 = {16'h0, och / 16'h2};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:637:16, :655:21, :670:{10,42}]
  reg         new_weights;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:673:24]
  wire [31:0] _GEN_21 = {16'h0, req_inner_bounds_krows};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :678:58]
  wire [47:0] _GEN_22 = {32'h0, req_inner_bounds_kcols};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :678:66]
  wire [64:0] _GEN_23 = {1'h0, {51'h0, req_b_addr_end} - (req_trans_weight_0132 ? {16'h0, {16'h0, {16'h0, req_derived_params_in_channels_per_bank} * _GEN} * _GEN_0} * _GEN_1 : {16'h0, {16'h0, {16'h0, req_derived_params_out_channels_per_bank} * _GEN} * _GEN_0} * _GEN_2)};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :629:{19,64,72,80}, :630:{27,35,43}, :633:37, :678:18]
  wire [47:0] _GEN_24 = {16'h0, {16'h0, req_wrot180 ? req_inner_bounds_krows - krow - 16'h1 : krow} * _GEN};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :629:64, :638:17, :674:{21,41,48}, :678:{93,101}]
  wire [31:0] _GEN_25 = {16'h0, req_wrot180 ? _kcol_rot_T - 16'h1 : kcol};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :639:17, :649:26, :675:{21,48}, :678:120]
  wire        _io_idle_T = state == 2'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:618:22, :726:25]
  wire        io_req_ready_0 = _io_idle_T & ~_command_p_io_busy;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25, :726:{25,34,37}]
  wire        command_p_io_in_valid = (|state) & ~skip_iteration & io_lda_completed & io_ldb_completed & io_ldd_completed;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:618:22, :646:{37,58}, :723:{35,55}, :730:{34,43,46,62}]
  wire        _command_p_io_in_bits_cmd_T = state == 2'h2;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:618:22, :731:62]
  wire        _GEN_26 = _command_p_io_in_bits_cmd_T | (&state);	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:618:22, :731:{62,90}, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire        _GEN_27 = _command_p_io_out_bits_cmd_inst_funct == 7'h6;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25, :713:22, :743:46]
  wire        _GEN_28 = _command_p_io_in_ready & command_p_io_in_valid;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25, :723:{35,55}, :730:{43,62}, src/main/scala/chisel3/util/Decoupled.scala:51:35]
  wire        _GEN_29 = _GEN_28 | skip_iteration;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:646:{37,58}, :785:30, src/main/scala/chisel3/util/Decoupled.scala:51:35]
  wire        _GEN_30 = state == 2'h1;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:618:22, :786:17]
  wire [16:0] _next_ocol_T_3 = {1'h0, ocol} + {14'h0, skip_iteration | req_trans_input_3120 ? 3'h1 : _ocol_it_T_1};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :643:17, :646:{37,58}, :656:{25,48}, :792:{24,40}, generators/gemmini/src/main/scala/gemmini/Util.scala:41:15]
  wire [15:0] next_ocol = _next_ocol_T_3 > {1'h0, req_inner_bounds_ocols - 16'h1} ? 16'h0 : _next_ocol_T_3[15:0];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, generators/gemmini/src/main/scala/gemmini/Util.scala:39:28, :41:15, :43:17, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire [16:0] _next_orow_T_4 = {1'h0, orow} + 17'h1;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:642:17, generators/gemmini/src/main/scala/gemmini/Util.scala:41:15]
  wire [15:0] _next_orow_T_6 = _next_orow_T_4 > {1'h0, req_inner_bounds_orows - 16'h1} ? 16'h0 : _next_orow_T_4[15:0];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, generators/gemmini/src/main/scala/gemmini/Util.scala:39:28, :41:15, :43:17, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire        _state_T_9 = ((|next_ocol) ? orow : _next_orow_T_6) == 16'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:642:17, :795:60, :796:57, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire        _next_b_T_2 = _state_T_9 & ~(|next_ocol);	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:795:60, :796:{57,65}, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire [16:0] _next_b_T_6 = {1'h0, b} + {15'h0, req_trans_input_3120 ? 2'h2 : 2'h1};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :641:14, :655:17, :662:76, :786:17, :791:21, generators/gemmini/src/main/scala/gemmini/Util.scala:41:15]
  wire [15:0] _next_b_T_8 = _next_b_T_6 > {1'h0, req_inner_bounds_batches - 16'h1} ? 16'h0 : _next_b_T_6[15:0];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, generators/gemmini/src/main/scala/gemmini/Util.scala:39:28, :41:15, :43:17, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire        _state_T_7 = (_next_b_T_2 ? _next_b_T_8 : b) == 16'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:641:14, :796:65, :798:16, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire        _next_kch_T_4 = _state_T_7 & _state_T_9 & ~(|next_ocol);	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:795:60, :796:57, :798:{16,24,45}, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire [16:0] _next_kch_T_8 = {1'h0, kch} + 17'h2;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:640:16, :658:29, generators/gemmini/src/main/scala/gemmini/Util.scala:41:15]
  wire [15:0] _next_kch_T_10 = _next_kch_T_8 > {1'h0, req_inner_bounds_kchs - 16'h1} ? 16'h0 : _next_kch_T_8[15:0];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, generators/gemmini/src/main/scala/gemmini/Util.scala:39:28, :41:15, :43:17, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire        _state_T_5 = (_next_kch_T_4 ? _next_kch_T_10 : kch) == 16'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:640:16, :798:{24,45}, :800:18, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire        _next_kcol_T_6 = _state_T_5 & _state_T_7 & _state_T_9 & ~(|next_ocol);	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:795:60, :796:57, :798:16, :800:{18,26,44,65}, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire [16:0] _next_kcol_T_10 = {1'h0, kcol} + {1'h0, req_max_pixels_per_row};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :639:17, :649:26, generators/gemmini/src/main/scala/gemmini/Util.scala:41:15]
  wire [15:0] _next_kcol_T_12 = _next_kcol_T_10 > {1'h0, req_inner_bounds_kcols - 16'h1} ? 16'h0 : _next_kcol_T_10[15:0];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, generators/gemmini/src/main/scala/gemmini/Util.scala:39:28, :41:15, :43:17, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire        _state_T_3 = (_next_kcol_T_6 ? _next_kcol_T_12 : kcol) == 16'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:639:17, :800:{26,44,65}, :802:19, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire        _next_krow_T_8 = _state_T_3 & _state_T_5 & _state_T_7 & _state_T_9 & ~(|next_ocol);	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:795:60, :796:57, :798:16, :800:18, :802:{19,27,47,65,86}, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire [16:0] _next_krow_T_12 = {1'h0, krow} + 17'h1;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:638:17, :674:41, generators/gemmini/src/main/scala/gemmini/Util.scala:41:15]
  wire [15:0] _next_krow_T_14 = _next_krow_T_12 > {1'h0, req_inner_bounds_krows - 16'h1} ? 16'h0 : _next_krow_T_12[15:0];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, generators/gemmini/src/main/scala/gemmini/Util.scala:39:28, :41:15, :43:17, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire        _state_T_1 = (_next_krow_T_8 ? _next_krow_T_14 : krow) == 16'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:638:17, :802:{27,47,65,86}, :803:66, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire        _next_och_T_10 = _state_T_1 & _state_T_3 & _state_T_5 & _state_T_7 & _state_T_9 & ~(|next_ocol);	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:795:60, :796:57, :798:16, :800:18, :802:19, :803:{66,74}, :804:{27,47,65,86}, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire [16:0] _next_och_T_14 = {1'h0, och} + 17'h2;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:637:16, :657:20, generators/gemmini/src/main/scala/gemmini/Util.scala:41:15]
  wire [15:0] _next_och_T_16 = _next_och_T_14 > {1'h0, req_derived_params_ochs - 16'h1} ? 16'h0 : _next_och_T_14[15:0];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, generators/gemmini/src/main/scala/gemmini/Util.scala:39:28, :41:15, :43:17, src/main/scala/chisel3/util/Mux.scala:126:16]
  wire        _GEN_31 = _GEN_30 | _command_p_io_in_bits_cmd_T;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:643:17, :731:62, :786:{17,29}, :788:32, :806:12]
  wire        _GEN_32 = io_req_ready_0 & io_req_valid;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:726:34, src/main/scala/chisel3/util/Decoupled.scala:51:35]
  always @(posedge clock) begin	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
    if (reset)	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
      state <= 2'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:618:22]
    else if (_GEN_32)	// @[src/main/scala/chisel3/util/Decoupled.scala:51:35]
      state <= io_req_bits_trans_input_3120 ? 2'h1 : 2'h2;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:618:22, :786:17, :827:17]
    else if (_GEN_29)	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:785:30]
      state <= _GEN_30 ? 2'h2 : _command_p_io_in_bits_cmd_T ? 2'h3 : {~((_next_och_T_10 ? _next_och_T_16 : och) == 16'h0 & _state_T_1 & _state_T_3 & _state_T_5 & _state_T_7 & _state_T_9 & ~(|next_ocol)), 1'h0};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:618:22, :637:16, :731:62, :786:{17,29}, :787:13, :788:32, :789:13, :795:60, :796:57, :798:16, :800:18, :802:19, :803:{66,74}, :804:{27,47,65,86}, :818:{13,19,29,37,58,79,99,117}, :819:27, src/main/scala/chisel3/util/Mux.scala:126:16]
    if (_GEN_32) begin	// @[src/main/scala/chisel3/util/Decoupled.scala:51:35]
      req_outer_bounds_stride <= io_req_bits_outer_bounds_stride;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_outer_bounds_kernel_dilation <= io_req_bits_outer_bounds_kernel_dilation;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_inner_bounds_batches <= io_req_bits_inner_bounds_batches;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_inner_bounds_krows <= io_req_bits_inner_bounds_krows;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_inner_bounds_kcols <= io_req_bits_inner_bounds_kcols;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_inner_bounds_kchs <= io_req_bits_inner_bounds_kchs;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_inner_bounds_lpad <= io_req_bits_inner_bounds_lpad;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_inner_bounds_upad <= io_req_bits_inner_bounds_upad;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_inner_bounds_orows <= io_req_bits_inner_bounds_orows;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_inner_bounds_ocols <= io_req_bits_inner_bounds_ocols;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_derived_params_ochs <= io_req_bits_derived_params_ochs;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_derived_params_irows <= io_req_bits_derived_params_irows;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_derived_params_icols <= io_req_bits_derived_params_icols;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_derived_params_out_channels_per_bank <= io_req_bits_derived_params_out_channels_per_bank;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_derived_params_in_channels_per_bank <= io_req_bits_derived_params_in_channels_per_bank;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_derived_params_input_spad_stride <= io_req_bits_derived_params_input_spad_stride;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_a_addr_start <= io_req_bits_a_addr_start;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_b_addr_end <= io_req_bits_b_addr_end;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_c_addr_start <= io_req_bits_c_addr_start;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_wrot180 <= io_req_bits_wrot180;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_downsample <= io_req_bits_downsample;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_max_pixels_per_row <= io_req_bits_max_pixels_per_row;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_input_dilated <= io_req_bits_input_dilated;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_trans_weight_0132 <= io_req_bits_trans_weight_0132;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_trans_input_3120 <= io_req_bits_trans_input_3120;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      req_loop_id <= io_req_bits_loop_id;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16]
      och <= 16'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:637:16]
      krow <= 16'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:638:17]
      kcol <= 16'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:639:17]
      kch <= 16'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:640:16]
      b <= 16'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:641:14]
      orow <= 16'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:642:17]
      ocol <= 16'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:643:17]
    end
    else begin	// @[src/main/scala/chisel3/util/Decoupled.scala:51:35]
      if (~_GEN_29 | _GEN_30 | _command_p_io_in_bits_cmd_T | ~_next_och_T_10) begin	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:637:16, :643:17, :731:62, :785:{30,49}, :786:{17,29}, :788:32, :803:74, :804:{27,47,65,86}, :812:11, generators/gemmini/src/main/scala/gemmini/Util.scala:42:8, src/main/scala/chisel3/util/Mux.scala:126:16]
      end
      else	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:637:16, :785:49, :786:29, :788:32, :812:11, src/main/scala/chisel3/util/Mux.scala:126:16]
        och <= _next_och_T_16;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:637:16, src/main/scala/chisel3/util/Mux.scala:126:16]
      if (~_GEN_29 | _GEN_30 | _command_p_io_in_bits_cmd_T | ~_next_krow_T_8) begin	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:638:17, :643:17, :731:62, :785:{30,49}, :786:{17,29}, :788:32, :802:{27,47,65,86}, :811:12, generators/gemmini/src/main/scala/gemmini/Util.scala:42:8, src/main/scala/chisel3/util/Mux.scala:126:16]
      end
      else	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:638:17, :785:49, :786:29, :788:32, :811:12, src/main/scala/chisel3/util/Mux.scala:126:16]
        krow <= _next_krow_T_14;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:638:17, src/main/scala/chisel3/util/Mux.scala:126:16]
      if (~_GEN_29 | _GEN_30 | _command_p_io_in_bits_cmd_T | ~_next_kcol_T_6) begin	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:639:17, :643:17, :731:62, :785:{30,49}, :786:{17,29}, :788:32, :800:{26,44,65}, :810:12, generators/gemmini/src/main/scala/gemmini/Util.scala:42:8, src/main/scala/chisel3/util/Mux.scala:126:16]
      end
      else	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:639:17, :785:49, :786:29, :788:32, :810:12, src/main/scala/chisel3/util/Mux.scala:126:16]
        kcol <= _next_kcol_T_12;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:639:17, src/main/scala/chisel3/util/Mux.scala:126:16]
      if (~_GEN_29 | _GEN_30 | _command_p_io_in_bits_cmd_T | ~_next_kch_T_4) begin	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:640:16, :643:17, :731:62, :785:{30,49}, :786:{17,29}, :788:32, :798:{24,45}, :809:11, generators/gemmini/src/main/scala/gemmini/Util.scala:42:8, src/main/scala/chisel3/util/Mux.scala:126:16]
      end
      else	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:640:16, :785:49, :786:29, :788:32, :809:11, src/main/scala/chisel3/util/Mux.scala:126:16]
        kch <= _next_kch_T_10;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:640:16, src/main/scala/chisel3/util/Mux.scala:126:16]
      if (~_GEN_29 | _GEN_30 | _command_p_io_in_bits_cmd_T | ~_next_b_T_2) begin	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:641:14, :643:17, :731:62, :785:{30,49}, :786:{17,29}, :788:32, :796:65, :808:9, generators/gemmini/src/main/scala/gemmini/Util.scala:42:8, src/main/scala/chisel3/util/Mux.scala:126:16]
      end
      else	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:641:14, :785:49, :786:29, :788:32, :808:9, src/main/scala/chisel3/util/Mux.scala:126:16]
        b <= _next_b_T_8;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:641:14, src/main/scala/chisel3/util/Mux.scala:126:16]
      if (~_GEN_29 | (|{_GEN_30, _command_p_io_in_bits_cmd_T, next_ocol})) begin	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:642:17, :643:17, :731:62, :785:{30,49}, :786:{17,29}, :788:32, :795:60, :807:12, src/main/scala/chisel3/util/Mux.scala:126:16]
      end
      else	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:642:17, :785:49, :786:29]
        orow <= _next_orow_T_6;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:642:17, src/main/scala/chisel3/util/Mux.scala:126:16]
      if (~_GEN_29 | _GEN_31) begin	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:643:17, :785:{30,49}, :786:29, :788:32, :806:12]
      end
      else	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:643:17, :785:49, :786:29]
        ocol <= next_ocol;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:643:17, src/main/scala/chisel3/util/Mux.scala:126:16]
    end
    new_weights <= _GEN_32 | _GEN_29 & ~_GEN_31 & _state_T_7 & _state_T_9 & ~(|next_ocol) | ~((&state) & _GEN_28) & new_weights;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:618:22, :643:17, :673:24, :731:90, :780:{24,49}, :781:17, :785:{30,49}, :786:29, :788:32, :795:60, :796:57, :798:16, :806:12, :814:{28,49,71}, :825:22, :837:17, src/main/scala/chisel3/util/Decoupled.scala:51:35, src/main/scala/chisel3/util/Mux.scala:126:16]
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
    `ifdef FIRRTL_BEFORE_INITIAL	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
      `FIRRTL_BEFORE_INITIAL	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
    `endif // FIRRTL_BEFORE_INITIAL
    logic [31:0] _RANDOM[0:28];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
    initial begin	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
      `ifdef INIT_RANDOM_PROLOG_	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
        `INIT_RANDOM_PROLOG_	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
        for (logic [4:0] i = 5'h0; i < 5'h1D; i += 5'h1) begin
          _RANDOM[i] = `RANDOM;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
        end	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
        state = _RANDOM[5'h0][1:0];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :618:22]
        req_outer_bounds_stride = _RANDOM[5'h6][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_outer_bounds_kernel_dilation = {_RANDOM[5'h7][31:18], _RANDOM[5'h8][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_inner_bounds_batches = {_RANDOM[5'h9][31:18], _RANDOM[5'hA][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_inner_bounds_krows = {_RANDOM[5'hB][31:18], _RANDOM[5'hC][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_inner_bounds_kcols = _RANDOM[5'hC][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_inner_bounds_kchs = {_RANDOM[5'hC][31:18], _RANDOM[5'hD][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_inner_bounds_lpad = _RANDOM[5'hD][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_inner_bounds_upad = _RANDOM[5'hE][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_inner_bounds_orows = _RANDOM[5'h11][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_inner_bounds_ocols = {_RANDOM[5'h11][31:18], _RANDOM[5'h12][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_derived_params_ochs = _RANDOM[5'h12][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_derived_params_irows = {_RANDOM[5'h12][31:18], _RANDOM[5'h13][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_derived_params_icols = _RANDOM[5'h13][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_derived_params_out_channels_per_bank = _RANDOM[5'h15][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_derived_params_in_channels_per_bank = {_RANDOM[5'h15][31:18], _RANDOM[5'h16][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_derived_params_input_spad_stride = {_RANDOM[5'h16][31:18], _RANDOM[5'h17][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_a_addr_start = _RANDOM[5'h17][29:18];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_b_addr_end = {_RANDOM[5'h17][31:30], _RANDOM[5'h18][10:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_c_addr_start = _RANDOM[5'h18][19:11];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_wrot180 = _RANDOM[5'h18][20];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_downsample = _RANDOM[5'h18][21];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_max_pixels_per_row = {_RANDOM[5'h18][31:22], _RANDOM[5'h19][5:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_input_dilated = _RANDOM[5'h19][6];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_trans_weight_0132 = _RANDOM[5'h19][7];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_trans_input_3120 = _RANDOM[5'h19][8];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        req_loop_id = _RANDOM[5'h19][9];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
        och = _RANDOM[5'h19][25:10];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16, :637:16]
        krow = {_RANDOM[5'h19][31:26], _RANDOM[5'h1A][9:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16, :638:17]
        kcol = _RANDOM[5'h1A][25:10];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :638:17, :639:17]
        kch = {_RANDOM[5'h1A][31:26], _RANDOM[5'h1B][9:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :638:17, :640:16]
        b = _RANDOM[5'h1B][25:10];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :640:16, :641:14]
        orow = {_RANDOM[5'h1B][31:26], _RANDOM[5'h1C][9:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :640:16, :642:17]
        ocol = _RANDOM[5'h1C][25:10];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :642:17, :643:17]
        new_weights = _RANDOM[5'h1C][26];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :642:17, :673:24]
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
      `FIRRTL_AFTER_INITIAL	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7]
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  Pipeline_5 command_p (	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25]
    .clock                      (clock),
    .reset                      (reset),
    .io_in_ready                (_command_p_io_in_ready),
    .io_in_valid                (command_p_io_in_valid),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:723:{35,55}, :730:{43,62}]
    .io_in_bits_cmd_inst_funct  (_command_p_io_in_bits_cmd_T ? 7'h6 : (&state) ? {6'h2, ~new_weights} : 7'h0),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:618:22, :673:24, :713:22, :719:{23,29}, :731:{62,90}, src/main/scala/chisel3/util/Mux.scala:126:16]
    .io_in_bits_cmd_rs1         (_GEN_26 ? 64'h0 : {32'h0, req_derived_params_irows * req_derived_params_icols, 16'h80}),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :700:37, :708:36, :714:15, src/main/scala/chisel3/util/Mux.scala:126:16]
    .io_in_bits_cmd_rs2         (_GEN_26 ? 64'h0 : {req_inner_bounds_orows * req_inner_bounds_ocols, 48'h0}),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :706:37, :709:36, :714:15, src/main/scala/chisel3/util/Mux.scala:126:16]
    .io_in_bits_a_addr          (req_trans_input_3120 ? {1'h0, {2'h0, {16'h0, _GEN_10 + {1'h0, {16'h0, b / 16'h2} * _GEN_9}} + {1'h0, {16'h0, {16'h0, kch} * _GEN_12} * _GEN_13}} + {1'h0, _GEN_15 * _GEN_16}} + _GEN_17 : {1'h0, {2'h0, {16'h0, _GEN_10 + {1'h0, _GEN_18 * _GEN_9}} + {1'h0, {16'h0, _GEN_19 * _GEN_12} * _GEN_13}} + {1'h0, _GEN_15 * _GEN_16}} + _GEN_17),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:618:22, :620:16, :640:16, :641:14, :655:21, :661:19, :662:{18,24,40,60,67,95,123,151,179}, :663:{18,58,78,83,111,139,167,195}]
    .io_in_bits_b_addr          (req_trans_weight_0132 ? {1'h0, {1'h0, {1'h0, _GEN_23 + {1'h0, {16'h0, {16'h0, _GEN_18 * _GEN_21} * _GEN_22} * _GEN_1}} + {18'h0, _GEN_24 * {32'h0, req_derived_params_ochs}}} + {35'h0, _GEN_25 * {16'h0, req_derived_params_ochs}}} + {52'h0, och} : {1'h0, {1'h0, {1'h0, _GEN_23 + {1'h0, {16'h0, {16'h0, _GEN_20 * _GEN_21} * _GEN_22} * _GEN_2}} + {18'h0, _GEN_24 * {32'h0, req_inner_bounds_kchs}}} + {35'h0, _GEN_25 * {16'h0, req_inner_bounds_kchs}}} + {52'h0, kch}),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :629:80, :630:43, :633:37, :637:16, :640:16, :646:95, :663:58, :670:{42,89}, :677:19, :678:{18,58,66,74,81,101,108,120,127}, :679:{18,58,66,74,81,101,108,120,127}]
    .io_in_bits_c_addr          ({1'h0, {1'h0, {1'h0, {56'h0, req_c_addr_start} + {1'h0, {16'h0, {16'h0, _GEN_20 * {16'h0, req_inner_bounds_batches}} * {32'h0, req_inner_bounds_orows}} * {48'h0, req_inner_bounds_ocols}}} + {18'h0, {16'h0, _GEN_19 * {16'h0, req_inner_bounds_orows}} * {32'h0, req_inner_bounds_ocols}}} + {35'h0, _GEN_4 * {16'h0, req_inner_bounds_ocols}}} + {52'h0, ocol}),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :633:37, :643:17, :646:95, :651:29, :663:83, :669:29, :670:{42,52,60,68,73,81,89,97,105}]
    .io_in_bits_I               (req_trans_input_3120 ? {1'h0, _I_T_3 > 16'h2 ? 16'h2 : _I_T_3} : {1'h0, _I_T_11 > _GEN_7 ? _GEN_7 : _I_T_11} + _GEN_8 >> _GEN_8),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :626:{37,59}, :654:14, :655:{8,17,21}, :656:{18,25,32}]
    .io_in_bits_J               (_J_T_3 > 16'h2 ? 16'h2 : _J_T_3),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:655:21, :657:{14,20,26}]
    .io_in_bits_K               ({16'h0, _kcol_rot_T > req_max_pixels_per_row ? req_max_pixels_per_row : _kcol_rot_T} * {16'h0, _K_T_3 > 16'h2 ? 16'h2 : _K_T_3}),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:620:16, :649:{19,26,33}, :655:21, :658:{18,23,29,35}]
    .io_in_bits_new_weights     (new_weights),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:673:24]
    .io_out_ready               (io_cmd_ready & ~io_rob_overloaded),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:740:{42,45}]
    .io_out_valid               (_command_p_io_out_valid),
    .io_out_bits_cmd_inst_funct (_command_p_io_out_bits_cmd_inst_funct),
    .io_out_bits_cmd_rs1        (_command_p_io_out_bits_cmd_rs1),
    .io_out_bits_cmd_rs2        (_command_p_io_out_bits_cmd_rs2),
    .io_out_bits_a_addr         (_command_p_io_out_bits_a_addr),
    .io_out_bits_b_addr         (_command_p_io_out_bits_b_addr),
    .io_out_bits_c_addr         (_command_p_io_out_bits_c_addr),
    .io_out_bits_I              (_command_p_io_out_bits_I),
    .io_out_bits_J              (_command_p_io_out_bits_J),
    .io_out_bits_K              (_command_p_io_out_bits_K),
    .io_out_bits_new_weights    (_command_p_io_out_bits_new_weights),
    .io_busy                    (_command_p_io_busy)
  );	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:691:25]
  assign io_req_ready = io_req_ready_0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :726:34]
  assign io_cmd_valid = _command_p_io_out_valid & ~io_rob_overloaded;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :691:25, :740:45, :741:42]
  assign io_cmd_bits_inst_funct = _command_p_io_out_bits_cmd_inst_funct;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :691:25]
  assign io_cmd_bits_rs1 = _GEN_27 ? {14'h0, _command_p_io_out_bits_K[1:0], 13'h0, _command_p_io_out_bits_J[2:0], ~_command_p_io_out_bits_new_weights, ~_command_p_io_out_bits_new_weights, ~_command_p_io_out_bits_new_weights, _command_p_io_out_bits_new_weights ? _command_p_io_out_bits_b_addr[28:26] : 3'h0, 13'h0, ~_command_p_io_out_bits_new_weights | _command_p_io_out_bits_b_addr[12], _command_p_io_out_bits_new_weights ? _command_p_io_out_bits_b_addr[11:0] : 12'hFFF} : (|_command_p_io_out_bits_cmd_inst_funct) ? {14'h0, _command_p_io_out_bits_I[1:0], 13'h0, _command_p_io_out_bits_K[2:0], 3'h0, _command_p_io_out_bits_a_addr[28:26], 13'h0, _command_p_io_out_bits_a_addr[12:0]} : _command_p_io_out_bits_cmd_rs1;	// @[generators/gemmini/src/main/scala/gemmini/LocalAddr.scala:99:13, :108:37, generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :691:25, :742:15, :743:{46,63}, :748:26, :749:26, :750:34, :755:26, :759:{21,36}, :761:{51,67}, :766:27, :775:{21,37}]
  assign io_cmd_bits_rs2 = _GEN_27 ? {14'h0, _command_p_io_out_bits_I[1:0], 13'h0, _command_p_io_out_bits_J[2:0], 3'h6, _command_p_io_out_bits_c_addr[28:26], 13'h0, _command_p_io_out_bits_c_addr[12:0]} : (|_command_p_io_out_bits_cmd_inst_funct) ? {14'h0, _command_p_io_out_bits_I[1:0], 13'h0, _command_p_io_out_bits_J[2:0], 32'hE0001FFF} : _command_p_io_out_bits_cmd_rs2;	// @[generators/gemmini/src/main/scala/gemmini/LocalAddr.scala:108:37, generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :691:25, :742:15, :743:{46,63}, :749:26, :755:26, :760:{21,36}, :761:{51,67}, :776:{21,37}]
  assign io_idle = _io_idle_T & ~_command_p_io_busy;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :691:25, :726:{25,37}, :727:29]
  assign io_loop_id = req_loop_id;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:596:7, :620:16]
endmodule


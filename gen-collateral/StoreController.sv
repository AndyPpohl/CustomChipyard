// Generated by CIRCT firtool-1.75.0

// Users can define 'STOP_COND' to add an extra gate to stop conditions.
`ifndef STOP_COND_
  `ifdef STOP_COND
    `define STOP_COND_ (`STOP_COND)
  `else  // STOP_COND
    `define STOP_COND_ 1
  `endif // STOP_COND
`endif // not def STOP_COND_

// Users can define 'ASSERT_VERBOSE_COND' to add an extra gate to assert error printing.
`ifndef ASSERT_VERBOSE_COND_
  `ifdef ASSERT_VERBOSE_COND
    `define ASSERT_VERBOSE_COND_ (`ASSERT_VERBOSE_COND)
  `else  // ASSERT_VERBOSE_COND
    `define ASSERT_VERBOSE_COND_ 1
  `endif // ASSERT_VERBOSE_COND
`endif // not def ASSERT_VERBOSE_COND_

// Include register initializers in init blocks unless synthesis is set
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Standard header to adapt well known macros for register randomization.

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_
module StoreController(	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
  input         clock,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
  input         reset,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
  output        io_cmd_ready,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_valid,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [6:0]  io_cmd_bits_cmd_inst_funct,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [4:0]  io_cmd_bits_cmd_inst_rs2,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [4:0]  io_cmd_bits_cmd_inst_rs1,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_inst_xd,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_inst_xs1,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_inst_xs2,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [4:0]  io_cmd_bits_cmd_inst_rd,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [6:0]  io_cmd_bits_cmd_inst_opcode,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [63:0] io_cmd_bits_cmd_rs1,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [63:0] io_cmd_bits_cmd_rs2,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_debug,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_cease,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_wfi,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [31:0] io_cmd_bits_cmd_status_isa,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [1:0]  io_cmd_bits_cmd_status_dprv,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_dv,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [1:0]  io_cmd_bits_cmd_status_prv,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_v,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_sd,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [22:0] io_cmd_bits_cmd_status_zero2,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_mpv,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_gva,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_mbe,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_sbe,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [1:0]  io_cmd_bits_cmd_status_sxl,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [1:0]  io_cmd_bits_cmd_status_uxl,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_sd_rv32,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [7:0]  io_cmd_bits_cmd_status_zero1,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_tsr,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_tw,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_tvm,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_mxr,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_sum,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_mprv,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [1:0]  io_cmd_bits_cmd_status_xs,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [1:0]  io_cmd_bits_cmd_status_fs,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [1:0]  io_cmd_bits_cmd_status_mpp,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [1:0]  io_cmd_bits_cmd_status_vs,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_spp,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_mpie,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_ube,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_spie,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_upie,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_mie,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_hie,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_sie,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_cmd_status_uie,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_from_matmul_fsm,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_cmd_bits_from_conv_fsm,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_dma_req_ready,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_valid,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [39:0] io_dma_req_bits_vaddr,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_laddr_is_acc_addr,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_laddr_accumulate,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_laddr_read_full_acc_row,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [12:0] io_dma_req_bits_laddr_garbage,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_laddr_garbage_bit,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [11:0] io_dma_req_bits_laddr_data,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_dest,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [2:0]  io_dma_req_bits_acc_act,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [31:0] io_dma_req_bits_acc_scale,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [15:0] io_dma_req_bits_len,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [7:0]  io_dma_req_bits_block,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [7:0]  io_dma_req_bits_cmd_id,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_debug,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_cease,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_wfi,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [31:0] io_dma_req_bits_status_isa,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [1:0]  io_dma_req_bits_status_dprv,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_dv,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [1:0]  io_dma_req_bits_status_prv,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_v,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_sd,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [22:0] io_dma_req_bits_status_zero2,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_mpv,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_gva,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_mbe,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_sbe,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [1:0]  io_dma_req_bits_status_sxl,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [1:0]  io_dma_req_bits_status_uxl,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_sd_rv32,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [7:0]  io_dma_req_bits_status_zero1,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_tsr,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_tw,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_tvm,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_mxr,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_sum,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_mprv,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [1:0]  io_dma_req_bits_status_xs,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [1:0]  io_dma_req_bits_status_fs,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [1:0]  io_dma_req_bits_status_mpp,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [1:0]  io_dma_req_bits_status_vs,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_spp,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_mpie,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_ube,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_spie,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_upie,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_mie,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_hie,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_sie,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_status_uie,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_dma_req_bits_store_en,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_dma_resp_valid,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input  [7:0]  io_dma_resp_bits_cmd_id,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  input         io_completed_ready,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output        io_completed_valid,	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
  output [2:0]  io_completed_bits	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:18:14]
);

  wire        _cmd_tracker_io_alloc_ready;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:157:27]
  wire        _cmd_tracker_io_alloc_bits_cmd_id;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:157:27]
  wire        _cmd_q_io_deq_valid;	// @[src/main/scala/chisel3/util/Decoupled.scala:362:21]
  wire [6:0]  _cmd_q_io_deq_bits_cmd_inst_funct;	// @[src/main/scala/chisel3/util/Decoupled.scala:362:21]
  wire [63:0] _cmd_q_io_deq_bits_cmd_rs1;	// @[src/main/scala/chisel3/util/Decoupled.scala:362:21]
  wire [63:0] _cmd_q_io_deq_bits_cmd_rs2;	// @[src/main/scala/chisel3/util/Decoupled.scala:362:21]
  wire [2:0]  _cmd_q_io_deq_bits_rob_id_bits;	// @[src/main/scala/chisel3/util/Decoupled.scala:362:21]
  reg  [1:0]  control_state;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30]
  reg  [39:0] stride;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:39:23]
  reg  [2:0]  activation;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:45:27]
  reg  [31:0] acc_scale_bits;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:51:26]
  reg  [11:0] row_counter;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:54:28]
  reg  [7:0]  block_counter;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:55:30]
  reg  [1:0]  pool_size;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:59:26]
  reg  [7:0]  pool_out_dim;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:60:29]
  reg  [7:0]  pool_porows;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:61:28]
  reg  [7:0]  pool_pocols;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:62:28]
  reg  [7:0]  pool_orows;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:63:27]
  reg  [7:0]  pool_ocols;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:64:27]
  reg  [7:0]  porow_counter;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:68:30]
  reg  [7:0]  pocol_counter;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:69:30]
  wire        dst_is_spad = _cmd_q_io_deq_bits_cmd_inst_funct == 7'h17;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:90:45, src/main/scala/chisel3/util/Decoupled.scala:362:21]
  wire [2:0]  _blocks_T_1 = _cmd_q_io_deq_bits_cmd_rs2[34:32] % 3'h2;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :91:44, :95:63, src/main/scala/chisel3/util/Decoupled.scala:362:21]
  wire [2:0]  _blocks_T_3 = _cmd_q_io_deq_bits_cmd_rs2[34:32] / 3'h2 + {2'h0, |(_blocks_T_1[1:0])};	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :91:44, :95:{22,55,63,78}, src/main/scala/chisel3/util/Decoupled.scala:362:21]
  wire [39:0] _GEN = {28'h0, row_counter};	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:54:28, :127:43]
  wire        DoConfig = _cmd_q_io_deq_bits_cmd_inst_funct == 7'h0 & _cmd_q_io_deq_bits_cmd_rs1[1:0] == 2'h2;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:97:51, :138:{42,57,76}, src/main/scala/chisel3/util/Decoupled.scala:362:21]
  wire [15:0] mvout_1d_rows = {8'h0, pool_orows} * {8'h0, pool_ocols};	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:63:27, :64:27, :144:34]
  wire        io_dma_req_valid_0 = ~(|control_state) & _cmd_q_io_deq_valid & ~DoConfig & _cmd_tracker_io_alloc_ready | control_state == 2'h1 | control_state == 2'h2 & (|{block_counter, row_counter}) | (&control_state) & (|{pocol_counter, porow_counter});	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30, :54:28, :55:30, :68:30, :69:30, :138:57, :140:17, :157:27, :160:{38,62,75,86,117}, :161:{19,49}, :162:{20,37,55,63,78,88}, :163:{20,32,49,57,73,81,98,106,123}, src/main/scala/chisel3/util/Decoupled.scala:362:21]
  wire [2:0]  _last_block_T = _blocks_T_3 - 3'h1;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:95:55, :170:66]
  wire [7:0]  _GEN_0 = {5'h0, _last_block_T};	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:170:66, :181:44]
  wire [2:0]  _io_dma_req_bits_len_T_5 = (_cmd_q_io_deq_bits_cmd_rs2[34:32] - 3'h1) % 3'h2;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :91:44, :181:{69,76}, src/main/scala/chisel3/util/Decoupled.scala:362:21]
  wire [1:0]  _last_row_T_26 = pool_size - 2'h1;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:59:26, :185:82]
  wire        cmd_tracker_io_alloc_valid = ~(|control_state) & _cmd_q_io_deq_valid & ~DoConfig;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30, :138:57, :140:17, :160:38, :189:{71,84}, src/main/scala/chisel3/util/Decoupled.scala:362:21]
  wire        _cmd_id_T = cmd_tracker_io_alloc_valid & _cmd_tracker_io_alloc_ready;	// @[generators/gemmini/src/main/scala/gemmini/DMACommandTracker.scala:27:40, generators/gemmini/src/main/scala/gemmini/StoreController.scala:157:27, :189:{71,84}]
  reg         cmd_id_buf;	// @[generators/gemmini/src/main/scala/gemmini/Util.scala:90:24]
  wire        _last_row_T_30 = io_dma_req_ready & io_dma_req_valid_0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:160:117, :161:49, :162:88, src/main/scala/chisel3/util/Decoupled.scala:51:35]
  wire [15:0] _GEN_1 = {4'h0, row_counter};	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :54:28, generators/gemmini/src/main/scala/gemmini/Util.scala:30:10]
  `ifndef SYNTHESIS	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:123:9]
    wire _GEN_2 = _last_row_T_30 & ~reset;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:123:9, :225:11, src/main/scala/chisel3/util/Decoupled.scala:51:35]
    always @(posedge clock) begin	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:123:9]
      if (~reset & _cmd_q_io_deq_bits_cmd_rs1[1:0] != _cmd_q_io_deq_bits_cmd_rs1[1:0]) begin	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:97:51, :113:50, :123:{9,35}, src/main/scala/chisel3/util/Decoupled.scala:362:21]
        if (`ASSERT_VERBOSE_COND_)	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:123:9]
          $error("Assertion failed\n    at StoreController.scala:123 assert(config_norm_rs1.cmd_type === config_mvout_rs1.cmd_type)\n");	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:123:9]
        if (`STOP_COND_)	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:123:9]
          $fatal;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:123:9]
      end
      if (_GEN_2 & _cmd_q_io_deq_bits_cmd_rs2[29] & (|(_blocks_T_3[2:1]))) begin	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:91:44, :95:55, :225:{11,54,64}, src/main/scala/chisel3/util/Decoupled.scala:362:21]
        if (`ASSERT_VERBOSE_COND_)	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:225:11]
          $error("Assertion failed: Block-mvouts are not permitted when moving out full accumulator data\n    at StoreController.scala:225 assert(!(io.dma.req.bits.laddr.read_full_acc_row && blocks > 1.U), \"Block-mvouts are not permitted when moving out full accumulator data\")\n");	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:225:11]
        if (`STOP_COND_)	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:225:11]
          $fatal;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:225:11]
      end
      if (_GEN_2 & (|pool_size) & (|(_blocks_T_3[2:1]))) begin	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:59:26, :74:36, :95:55, :225:{11,64}, :226:{11,55}]
        if (`ASSERT_VERBOSE_COND_)	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:226:11]
          $error("Assertion failed: Block-mvouts are not permitted when pooling\n    at StoreController.scala:226 assert(!((pooling_is_enabled || mvout_1d_enabled) && blocks > 1.U), \"Block-mvouts are not permitted when pooling\")\n");	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:226:11]
        if (`STOP_COND_)	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:226:11]
          $fatal;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:226:11]
      end
    end // always @(posedge)
  `endif // not def SYNTHESIS
  wire        _GEN_3 = control_state == 2'h1;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30, :230:26]
  wire        _GEN_4 = control_state == 2'h2;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30, :230:26]
  wire        _GEN_5 = block_counter == _GEN_0 & _last_row_T_30 & ((|pool_size) ? _GEN_1 == mvout_1d_rows - 16'h1 : row_counter == {10'h0, _cmd_q_io_deq_bits_cmd_rs2[49:48] - 2'h1}) | block_counter == 8'h0 & row_counter == 12'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:54:28, :55:30, :59:26, :74:36, :91:44, :144:34, :181:44, :286:{38,55}, :287:{25,56,74,93,102,109}, :290:{44,52,67}, :292:{25,38}, generators/gemmini/src/main/scala/gemmini/Util.scala:30:10, src/main/scala/chisel3/util/Decoupled.scala:51:35, :362:21]
  wire        last_row_1 = porow_counter == 8'h0 & pocol_counter == 8'h0 | porow_counter == pool_porows - 8'h1 & pocol_counter == pool_pocols - 8'h1 & _last_row_T_26 == 2'h0 & _last_row_T_26 == 2'h0 & _last_row_T_30;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:61:28, :62:28, :68:30, :69:30, :185:82, :300:{37,45,62,119}, :301:{24,40,46,63,79,85}, :302:{24,44,60,80}, src/main/scala/chisel3/util/Decoupled.scala:51:35]
  wire [15:0] _row_counter_max_T = mvout_1d_rows - 16'h1;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:144:34, generators/gemmini/src/main/scala/gemmini/Util.scala:18:28]
  wire [11:0] _row_counter_T_35 = row_counter + 12'h1;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:54:28, generators/gemmini/src/main/scala/gemmini/Util.scala:27:15]
  wire [1:0]  _row_counter_max_T_1 = _cmd_q_io_deq_bits_cmd_rs2[49:48] - 2'h1;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:91:44, generators/gemmini/src/main/scala/gemmini/Util.scala:18:28, src/main/scala/chisel3/util/Decoupled.scala:362:21]
  wire [7:0]  _porow_counter_max_T = pool_orows - 8'h1;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:63:27, generators/gemmini/src/main/scala/gemmini/Util.scala:18:28]
  wire [7:0]  _porow_counter_T = pool_ocols - 8'h1;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:64:27, generators/gemmini/src/main/scala/gemmini/Util.scala:18:28]
  always @(posedge clock) begin	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
    if (reset) begin	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
      control_state <= 2'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30]
      stride <= 40'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:39:23]
      activation <= 3'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :45:27]
      acc_scale_bits <= 32'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:51:26]
      row_counter <= 12'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:54:28]
      block_counter <= 8'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:55:30]
      pool_size <= 2'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:59:26]
      pool_out_dim <= 8'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:60:29]
      pool_porows <= 8'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:61:28]
      pool_pocols <= 8'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:62:28]
      pool_orows <= 8'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:63:27]
      pool_ocols <= 8'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:64:27]
      porow_counter <= 8'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:68:30]
      pocol_counter <= 8'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:69:30]
    end
    else begin	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
      if (|control_state) begin	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30, :160:38]
        if (_GEN_3) begin	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:230:26]
          if (_last_row_T_30)	// @[src/main/scala/chisel3/util/Decoupled.scala:51:35]
            control_state <= 2'h2;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30]
        end
        else if (_GEN_4 ? _GEN_5 : (&control_state) & last_row_1)	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30, :230:26, :292:{38,59}, :293:23, :300:119, :304:23, :305:23]
          control_state <= 2'h0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30]
      end
      else if (~_cmd_q_io_deq_valid | DoConfig | ~_cmd_id_T) begin	// @[generators/gemmini/src/main/scala/gemmini/DMACommandTracker.scala:27:40, generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30, :138:57, :232:24, :233:24, :258:64, src/main/scala/chisel3/util/Decoupled.scala:362:21]
      end
      else	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30, :232:24, :233:24, :258:64]
        control_state <= _last_row_T_30 ? 2'h2 : 2'h1;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30, :274:31, src/main/scala/chisel3/util/Decoupled.scala:51:35]
      if (~(|control_state) & _cmd_q_io_deq_valid & DoConfig) begin	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30, :39:23, :138:57, :160:38, :230:26, :232:24, :233:24, :234:18, src/main/scala/chisel3/util/Decoupled.scala:362:21]
        stride <= {8'h0, _cmd_q_io_deq_bits_cmd_rs2[31:0]};	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:39:23, :98:51, :234:18, src/main/scala/chisel3/util/Decoupled.scala:362:21]
        activation <= {1'h0, _cmd_q_io_deq_bits_cmd_rs1[3:2]};	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:45:27, :97:51, :236:22, src/main/scala/chisel3/util/Decoupled.scala:362:21]
        pool_size <= _cmd_q_io_deq_bits_cmd_rs1[7:6];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:59:26, :97:51, src/main/scala/chisel3/util/Decoupled.scala:362:21]
      end
      if (~(|control_state) & _cmd_q_io_deq_valid & DoConfig & _cmd_q_io_deq_bits_cmd_rs2[63:32] != 32'hFFFFFFFF)	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30, :51:26, :98:51, :138:57, :160:38, :230:26, :232:24, :233:24, :237:{42,48}, :238:23, src/main/scala/chisel3/util/Decoupled.scala:362:21]
        acc_scale_bits <= _cmd_q_io_deq_bits_cmd_rs2[63:32];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:51:26, :98:51, src/main/scala/chisel3/util/Decoupled.scala:362:21]
      if (_last_row_T_30) begin	// @[src/main/scala/chisel3/util/Decoupled.scala:51:35]
        row_counter <= (|pool_size) ? (_row_counter_max_T == 16'h0 ? 12'h0 : _GEN_1 >= mvout_1d_rows - 16'h1 ? 12'h1 - (_row_counter_max_T[11:0] - row_counter) - 12'h1 : _row_counter_T_35) : block_counter == _GEN_0 ? (_row_counter_max_T_1 == 2'h0 ? 12'h0 : row_counter >= {10'h0, _cmd_q_io_deq_bits_cmd_rs2[49:48] - 2'h1} ? 12'h1 - ({10'h0, _row_counter_max_T_1} - row_counter) - 12'h1 : _row_counter_T_35) : row_counter;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:54:28, :55:30, :59:26, :74:36, :91:44, :144:34, :181:44, :217:{25,140}, generators/gemmini/src/main/scala/gemmini/Util.scala:18:28, :19:28, :27:15, :28:8, :30:{10,17,21,47,54,59}, src/main/scala/chisel3/util/Decoupled.scala:362:21, src/main/scala/chisel3/util/Mux.scala:126:16]
        block_counter <= _last_block_T == 3'h0 ? 8'h0 : block_counter >= {5'h0, _blocks_T_3 - 3'h1} ? 8'h1 - (_GEN_0 - block_counter) - 8'h1 : block_counter + 8'h1;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :55:30, :95:55, :170:66, :181:44, generators/gemmini/src/main/scala/gemmini/Util.scala:19:28, :27:15, :30:{10,17,21,47,54,59}, src/main/scala/chisel3/util/Mux.scala:126:16]
      end
      if (~(|control_state) & _cmd_q_io_deq_valid & DoConfig & (|{_cmd_q_io_deq_bits_cmd_rs1[5:4], _cmd_q_io_deq_bits_cmd_rs1[7:6]})) begin	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30, :63:27, :97:51, :138:57, :160:38, :230:26, :232:24, :233:24, :243:{36,45}, :247:24, :251:{39,47}, :252:24, src/main/scala/chisel3/util/Decoupled.scala:362:21]
        pool_out_dim <= _cmd_q_io_deq_bits_cmd_rs1[31:24];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:60:29, :97:51, src/main/scala/chisel3/util/Decoupled.scala:362:21]
        pool_orows <= _cmd_q_io_deq_bits_cmd_rs1[55:48];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:63:27, :97:51, src/main/scala/chisel3/util/Decoupled.scala:362:21]
        pool_ocols <= _cmd_q_io_deq_bits_cmd_rs1[63:56];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:64:27, :97:51, src/main/scala/chisel3/util/Decoupled.scala:362:21]
      end
      if (~(|control_state) & _cmd_q_io_deq_valid & DoConfig & (|(_cmd_q_io_deq_bits_cmd_rs1[5:4]))) begin	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30, :61:28, :97:51, :138:57, :160:38, :230:26, :232:24, :233:24, :243:{36,45}, :245:25, src/main/scala/chisel3/util/Decoupled.scala:362:21]
        pool_porows <= _cmd_q_io_deq_bits_cmd_rs1[39:32];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:61:28, :97:51, src/main/scala/chisel3/util/Decoupled.scala:362:21]
        pool_pocols <= _cmd_q_io_deq_bits_cmd_rs1[47:40];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:62:28, :97:51, src/main/scala/chisel3/util/Decoupled.scala:362:21]
      end
      if (_last_row_T_30 & (|pool_size) & pocol_counter == _porow_counter_T)	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:59:26, :68:30, :69:30, :74:36, :207:26, :208:32, :211:29, :213:{23,84}, generators/gemmini/src/main/scala/gemmini/Util.scala:18:28, :28:8, src/main/scala/chisel3/util/Decoupled.scala:51:35, src/main/scala/chisel3/util/Mux.scala:126:16]
        porow_counter <= _porow_counter_max_T == 8'h0 ? 8'h0 : porow_counter >= pool_orows - 8'h1 ? 8'h1 - (_porow_counter_max_T - porow_counter) - 8'h1 : porow_counter + 8'h1;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:63:27, :68:30, generators/gemmini/src/main/scala/gemmini/Util.scala:18:28, :19:28, :27:15, :30:{10,17,21,47,54,59}, src/main/scala/chisel3/util/Mux.scala:126:16]
      if (_last_row_T_30 & (|pool_size))	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:59:26, :74:36, :211:29, src/main/scala/chisel3/util/Decoupled.scala:51:35]
        pocol_counter <= _porow_counter_T == 8'h0 ? 8'h0 : pocol_counter >= pool_ocols - 8'h1 ? 8'h1 - (_porow_counter_T - pocol_counter) - 8'h1 : pocol_counter + 8'h1;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:64:27, :69:30, generators/gemmini/src/main/scala/gemmini/Util.scala:18:28, :19:28, :27:15, :30:{10,17,21,47,54,59}, src/main/scala/chisel3/util/Mux.scala:126:16]
    end
    if (_cmd_id_T)	// @[generators/gemmini/src/main/scala/gemmini/DMACommandTracker.scala:27:40]
      cmd_id_buf <= _cmd_tracker_io_alloc_bits_cmd_id;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:157:27, generators/gemmini/src/main/scala/gemmini/Util.scala:90:24]
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
    `ifdef FIRRTL_BEFORE_INITIAL	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
      `FIRRTL_BEFORE_INITIAL	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
    `endif // FIRRTL_BEFORE_INITIAL
    logic [31:0] _RANDOM[0:7];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
    initial begin	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
      `ifdef INIT_RANDOM_PROLOG_	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
        `INIT_RANDOM_PROLOG_	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
        for (logic [3:0] i = 4'h0; i < 4'h8; i += 4'h1) begin
          _RANDOM[i[2:0]] = `RANDOM;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
        end	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
        control_state = _RANDOM[3'h0][1:0];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :37:30]
        stride = {_RANDOM[3'h0][31:2], _RANDOM[3'h1][9:0]};	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :37:30, :39:23]
        activation = _RANDOM[3'h1][12:10];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :39:23, :45:27]
        acc_scale_bits = {_RANDOM[3'h3][31:21], _RANDOM[3'h4][20:0]};	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :51:26]
        row_counter = {_RANDOM[3'h4][31:21], _RANDOM[3'h5][0]};	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :51:26, :54:28]
        block_counter = _RANDOM[3'h5][8:1];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :54:28, :55:30]
        pool_size = _RANDOM[3'h5][12:11];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :54:28, :59:26]
        pool_out_dim = _RANDOM[3'h5][20:13];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :54:28, :60:29]
        pool_porows = _RANDOM[3'h5][28:21];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :54:28, :61:28]
        pool_pocols = {_RANDOM[3'h5][31:29], _RANDOM[3'h6][4:0]};	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :54:28, :62:28]
        pool_orows = _RANDOM[3'h6][12:5];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :62:28, :63:27]
        pool_ocols = _RANDOM[3'h6][20:13];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :62:28, :64:27]
        porow_counter = {_RANDOM[3'h6][31:25], _RANDOM[3'h7][0]};	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :62:28, :68:30]
        pocol_counter = _RANDOM[3'h7][8:1];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :68:30, :69:30]
        cmd_id_buf = _RANDOM[3'h7][13];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :68:30, generators/gemmini/src/main/scala/gemmini/Util.scala:90:24]
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
      `FIRRTL_AFTER_INITIAL	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7]
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  Queue1_GemminiCmd cmd_q (	// @[src/main/scala/chisel3/util/Decoupled.scala:362:21]
    .clock                          (clock),
    .reset                          (reset),
    .io_enq_ready                   (io_cmd_ready),
    .io_enq_valid                   (io_cmd_valid),
    .io_enq_bits_cmd_inst_funct     (io_cmd_bits_cmd_inst_funct),
    .io_enq_bits_cmd_inst_rs2       (io_cmd_bits_cmd_inst_rs2),
    .io_enq_bits_cmd_inst_rs1       (io_cmd_bits_cmd_inst_rs1),
    .io_enq_bits_cmd_inst_xd        (io_cmd_bits_cmd_inst_xd),
    .io_enq_bits_cmd_inst_xs1       (io_cmd_bits_cmd_inst_xs1),
    .io_enq_bits_cmd_inst_xs2       (io_cmd_bits_cmd_inst_xs2),
    .io_enq_bits_cmd_inst_rd        (io_cmd_bits_cmd_inst_rd),
    .io_enq_bits_cmd_inst_opcode    (io_cmd_bits_cmd_inst_opcode),
    .io_enq_bits_cmd_rs1            (io_cmd_bits_cmd_rs1),
    .io_enq_bits_cmd_rs2            (io_cmd_bits_cmd_rs2),
    .io_enq_bits_cmd_status_debug   (io_cmd_bits_cmd_status_debug),
    .io_enq_bits_cmd_status_cease   (io_cmd_bits_cmd_status_cease),
    .io_enq_bits_cmd_status_wfi     (io_cmd_bits_cmd_status_wfi),
    .io_enq_bits_cmd_status_isa     (io_cmd_bits_cmd_status_isa),
    .io_enq_bits_cmd_status_dprv    (io_cmd_bits_cmd_status_dprv),
    .io_enq_bits_cmd_status_dv      (io_cmd_bits_cmd_status_dv),
    .io_enq_bits_cmd_status_prv     (io_cmd_bits_cmd_status_prv),
    .io_enq_bits_cmd_status_v       (io_cmd_bits_cmd_status_v),
    .io_enq_bits_cmd_status_sd      (io_cmd_bits_cmd_status_sd),
    .io_enq_bits_cmd_status_zero2   (io_cmd_bits_cmd_status_zero2),
    .io_enq_bits_cmd_status_mpv     (io_cmd_bits_cmd_status_mpv),
    .io_enq_bits_cmd_status_gva     (io_cmd_bits_cmd_status_gva),
    .io_enq_bits_cmd_status_mbe     (io_cmd_bits_cmd_status_mbe),
    .io_enq_bits_cmd_status_sbe     (io_cmd_bits_cmd_status_sbe),
    .io_enq_bits_cmd_status_sxl     (io_cmd_bits_cmd_status_sxl),
    .io_enq_bits_cmd_status_uxl     (io_cmd_bits_cmd_status_uxl),
    .io_enq_bits_cmd_status_sd_rv32 (io_cmd_bits_cmd_status_sd_rv32),
    .io_enq_bits_cmd_status_zero1   (io_cmd_bits_cmd_status_zero1),
    .io_enq_bits_cmd_status_tsr     (io_cmd_bits_cmd_status_tsr),
    .io_enq_bits_cmd_status_tw      (io_cmd_bits_cmd_status_tw),
    .io_enq_bits_cmd_status_tvm     (io_cmd_bits_cmd_status_tvm),
    .io_enq_bits_cmd_status_mxr     (io_cmd_bits_cmd_status_mxr),
    .io_enq_bits_cmd_status_sum     (io_cmd_bits_cmd_status_sum),
    .io_enq_bits_cmd_status_mprv    (io_cmd_bits_cmd_status_mprv),
    .io_enq_bits_cmd_status_xs      (io_cmd_bits_cmd_status_xs),
    .io_enq_bits_cmd_status_fs      (io_cmd_bits_cmd_status_fs),
    .io_enq_bits_cmd_status_mpp     (io_cmd_bits_cmd_status_mpp),
    .io_enq_bits_cmd_status_vs      (io_cmd_bits_cmd_status_vs),
    .io_enq_bits_cmd_status_spp     (io_cmd_bits_cmd_status_spp),
    .io_enq_bits_cmd_status_mpie    (io_cmd_bits_cmd_status_mpie),
    .io_enq_bits_cmd_status_ube     (io_cmd_bits_cmd_status_ube),
    .io_enq_bits_cmd_status_spie    (io_cmd_bits_cmd_status_spie),
    .io_enq_bits_cmd_status_upie    (io_cmd_bits_cmd_status_upie),
    .io_enq_bits_cmd_status_mie     (io_cmd_bits_cmd_status_mie),
    .io_enq_bits_cmd_status_hie     (io_cmd_bits_cmd_status_hie),
    .io_enq_bits_cmd_status_sie     (io_cmd_bits_cmd_status_sie),
    .io_enq_bits_cmd_status_uie     (io_cmd_bits_cmd_status_uie),
    .io_enq_bits_from_matmul_fsm    (io_cmd_bits_from_matmul_fsm),
    .io_enq_bits_from_conv_fsm      (io_cmd_bits_from_conv_fsm),
    .io_deq_ready                   ((|control_state) ? ~_GEN_3 & (_GEN_4 ? _GEN_5 : (&control_state) & last_row_1) : _cmd_q_io_deq_valid & DoConfig),	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:37:30, :138:57, :142:13, :160:38, :230:26, :232:24, :233:24, :292:{38,59}, :300:119, :304:23, src/main/scala/chisel3/util/Decoupled.scala:362:21]
    .io_deq_valid                   (_cmd_q_io_deq_valid),
    .io_deq_bits_cmd_inst_funct     (_cmd_q_io_deq_bits_cmd_inst_funct),
    .io_deq_bits_cmd_rs1            (_cmd_q_io_deq_bits_cmd_rs1),
    .io_deq_bits_cmd_rs2            (_cmd_q_io_deq_bits_cmd_rs2),
    .io_deq_bits_cmd_status_debug   (io_dma_req_bits_status_debug),
    .io_deq_bits_cmd_status_cease   (io_dma_req_bits_status_cease),
    .io_deq_bits_cmd_status_wfi     (io_dma_req_bits_status_wfi),
    .io_deq_bits_cmd_status_isa     (io_dma_req_bits_status_isa),
    .io_deq_bits_cmd_status_dprv    (io_dma_req_bits_status_dprv),
    .io_deq_bits_cmd_status_dv      (io_dma_req_bits_status_dv),
    .io_deq_bits_cmd_status_prv     (io_dma_req_bits_status_prv),
    .io_deq_bits_cmd_status_v       (io_dma_req_bits_status_v),
    .io_deq_bits_cmd_status_sd      (io_dma_req_bits_status_sd),
    .io_deq_bits_cmd_status_zero2   (io_dma_req_bits_status_zero2),
    .io_deq_bits_cmd_status_mpv     (io_dma_req_bits_status_mpv),
    .io_deq_bits_cmd_status_gva     (io_dma_req_bits_status_gva),
    .io_deq_bits_cmd_status_mbe     (io_dma_req_bits_status_mbe),
    .io_deq_bits_cmd_status_sbe     (io_dma_req_bits_status_sbe),
    .io_deq_bits_cmd_status_sxl     (io_dma_req_bits_status_sxl),
    .io_deq_bits_cmd_status_uxl     (io_dma_req_bits_status_uxl),
    .io_deq_bits_cmd_status_sd_rv32 (io_dma_req_bits_status_sd_rv32),
    .io_deq_bits_cmd_status_zero1   (io_dma_req_bits_status_zero1),
    .io_deq_bits_cmd_status_tsr     (io_dma_req_bits_status_tsr),
    .io_deq_bits_cmd_status_tw      (io_dma_req_bits_status_tw),
    .io_deq_bits_cmd_status_tvm     (io_dma_req_bits_status_tvm),
    .io_deq_bits_cmd_status_mxr     (io_dma_req_bits_status_mxr),
    .io_deq_bits_cmd_status_sum     (io_dma_req_bits_status_sum),
    .io_deq_bits_cmd_status_mprv    (io_dma_req_bits_status_mprv),
    .io_deq_bits_cmd_status_xs      (io_dma_req_bits_status_xs),
    .io_deq_bits_cmd_status_fs      (io_dma_req_bits_status_fs),
    .io_deq_bits_cmd_status_mpp     (io_dma_req_bits_status_mpp),
    .io_deq_bits_cmd_status_vs      (io_dma_req_bits_status_vs),
    .io_deq_bits_cmd_status_spp     (io_dma_req_bits_status_spp),
    .io_deq_bits_cmd_status_mpie    (io_dma_req_bits_status_mpie),
    .io_deq_bits_cmd_status_ube     (io_dma_req_bits_status_ube),
    .io_deq_bits_cmd_status_spie    (io_dma_req_bits_status_spie),
    .io_deq_bits_cmd_status_upie    (io_dma_req_bits_status_upie),
    .io_deq_bits_cmd_status_mie     (io_dma_req_bits_status_mie),
    .io_deq_bits_cmd_status_hie     (io_dma_req_bits_status_hie),
    .io_deq_bits_cmd_status_sie     (io_dma_req_bits_status_sie),
    .io_deq_bits_cmd_status_uie     (io_dma_req_bits_status_uie),
    .io_deq_bits_rob_id_bits        (_cmd_q_io_deq_bits_rob_id_bits)
  );	// @[src/main/scala/chisel3/util/Decoupled.scala:362:21]
  DMACommandTracker_1 cmd_tracker (	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:157:27]
    .clock                            (clock),
    .reset                            (reset),
    .io_alloc_valid                   (cmd_tracker_io_alloc_valid),	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:189:{71,84}]
    .io_alloc_ready                   (_cmd_tracker_io_alloc_ready),
    .io_alloc_bits_tag_rob_id         (_cmd_q_io_deq_bits_rob_id_bits),	// @[src/main/scala/chisel3/util/Decoupled.scala:362:21]
    .io_alloc_bits_bytes_to_read      ((|pool_size) ? mvout_1d_rows[12:0] : {8'h0, {3'h0, _cmd_q_io_deq_bits_cmd_rs2[49:48]} * {2'h0, _blocks_T_3}}),	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :59:26, :74:36, :91:44, :95:55, :144:34, :190:{74,112}, src/main/scala/chisel3/util/Decoupled.scala:362:21]
    .io_alloc_bits_cmd_id             (_cmd_tracker_io_alloc_bits_cmd_id),
    .io_request_returned_valid        (io_dma_resp_valid),
    .io_request_returned_bits_cmd_id  (io_dma_resp_bits_cmd_id[0]),	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:194:47]
    .io_cmd_completed_ready           (io_completed_ready),
    .io_cmd_completed_valid           (io_completed_valid),
    .io_cmd_completed_bits_tag_rob_id (io_completed_bits)
  );	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:157:27]
  assign io_dma_req_valid = io_dma_req_valid_0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :160:117, :161:49, :162:88]
  assign io_dma_req_bits_vaddr = dst_is_spad ? {8'h0, _cmd_q_io_deq_bits_cmd_rs1[31:0]} + _GEN * {8'h0, _cmd_q_io_deq_bits_cmd_rs1[63:32]} : (|pool_size) ? _cmd_q_io_deq_bits_cmd_rs1[39:0] + {24'h0, {8'h0, porow_counter} * {8'h0, pool_out_dim} + {8'h0, pocol_counter}} * stride : _cmd_q_io_deq_bits_cmd_rs1[39:0] + _GEN * stride;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :39:23, :59:26, :60:29, :68:30, :69:30, :74:36, :87:49, :90:45, :127:{29,43}, :129:{45,52,66}, :136:{26,43,58,75}, :165:31, :167:8, src/main/scala/chisel3/util/Decoupled.scala:362:21]
  assign io_dma_req_bits_laddr_is_acc_addr = _cmd_q_io_deq_bits_cmd_rs2[31];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :91:44, src/main/scala/chisel3/util/Decoupled.scala:362:21]
  assign io_dma_req_bits_laddr_accumulate = _cmd_q_io_deq_bits_cmd_rs2[30];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :91:44, src/main/scala/chisel3/util/Decoupled.scala:362:21]
  assign io_dma_req_bits_laddr_read_full_acc_row = _cmd_q_io_deq_bits_cmd_rs2[29];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :91:44, src/main/scala/chisel3/util/Decoupled.scala:362:21]
  assign io_dma_req_bits_laddr_garbage = _cmd_q_io_deq_bits_cmd_rs2[25:13];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :91:44, src/main/scala/chisel3/util/Decoupled.scala:362:21]
  assign io_dma_req_bits_laddr_garbage_bit = _cmd_q_io_deq_bits_cmd_rs2[12];	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :91:44, src/main/scala/chisel3/util/Decoupled.scala:362:21]
  assign io_dma_req_bits_laddr_data = _cmd_q_io_deq_bits_cmd_rs2[11:0] + {3'h0, block_counter, 1'h0} + row_counter;	// @[generators/gemmini/src/main/scala/gemmini/LocalAddr.scala:51:25, generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :54:28, :55:30, :91:44, :128:78, src/main/scala/chisel3/util/Decoupled.scala:362:21]
  assign io_dma_req_bits_dest = dst_is_spad;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :90:45]
  assign io_dma_req_bits_acc_act = activation;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :45:27]
  assign io_dma_req_bits_acc_scale = acc_scale_bits;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :51:26]
  assign io_dma_req_bits_len = {14'h0, block_counter == _GEN_0 ? _io_dma_req_bits_len_T_5[1:0] + 2'h1 : 2'h2};	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :55:30, :181:{23,29,44,76,92}]
  assign io_dma_req_bits_block = block_counter;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :55:30]
  assign io_dma_req_bits_cmd_id = {7'h0, _cmd_id_T ? _cmd_tracker_io_alloc_bits_cmd_id : cmd_id_buf};	// @[generators/gemmini/src/main/scala/gemmini/DMACommandTracker.scala:27:40, generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :138:42, :157:27, :199:26, generators/gemmini/src/main/scala/gemmini/Util.scala:90:24, :91:8]
  assign io_dma_req_bits_store_en = block_counter == _GEN_0;	// @[generators/gemmini/src/main/scala/gemmini/StoreController.scala:14:7, :55:30, :181:44, :186:19]
endmodule

